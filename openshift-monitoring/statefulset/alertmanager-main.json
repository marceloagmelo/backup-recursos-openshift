{"kind":"StatefulSet","apiVersion":"apps/v1beta1","metadata":{"name":"alertmanager-main","namespace":"openshift-monitoring","selfLink":"/apis/apps/v1beta1/namespaces/openshift-monitoring/statefulsets/alertmanager-main","uid":"7380c3a7-a716-11e9-9411-42010a9e0002","resourceVersion":"233555","generation":1,"creationTimestamp":"2019-07-15T15:37:28Z","labels":{"alertmanager":"main"},"ownerReferences":[{"apiVersion":"monitoring.coreos.com/v1","kind":"Alertmanager","name":"main","uid":"737df29a-a716-11e9-9411-42010a9e0002","controller":true,"blockOwnerDeletion":true}]},"spec":{"replicas":3,"selector":{"matchLabels":{"alertmanager":"main","app":"alertmanager"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"alertmanager":"main","app":"alertmanager"}},"spec":{"volumes":[{"name":"config-volume","secret":{"secretName":"alertmanager-main","defaultMode":420}},{"name":"secret-alertmanager-main-tls","secret":{"secretName":"alertmanager-main-tls","defaultMode":420}},{"name":"secret-alertmanager-main-proxy","secret":{"secretName":"alertmanager-main-proxy","defaultMode":420}},{"name":"alertmanager-main-db","emptyDir":{}}],"containers":[{"name":"alertmanager","image":"openshift/prometheus-alertmanager:v0.15.2","args":["--config.file=/etc/alertmanager/config/alertmanager.yaml","--cluster.listen-address=$(POD_IP):6783","--storage.path=/alertmanager","--data.retention=120h","--web.listen-address=127.0.0.1:9093","--web.external-url=https://alertmanager-main-openshift-monitoring.apps.openshift-311.lab/","--web.route-prefix=/","--cluster.peer=alertmanager-main-0.alertmanager-operated.openshift-monitoring.svc:6783","--cluster.peer=alertmanager-main-1.alertmanager-operated.openshift-monitoring.svc:6783","--cluster.peer=alertmanager-main-2.alertmanager-operated.openshift-monitoring.svc:6783"],"ports":[{"name":"mesh","containerPort":6783,"protocol":"TCP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}}],"resources":{"requests":{"memory":"200Mi"}},"volumeMounts":[{"name":"config-volume","mountPath":"/etc/alertmanager/config"},{"name":"alertmanager-main-db","mountPath":"/alertmanager"},{"name":"secret-alertmanager-main-tls","readOnly":true,"mountPath":"/etc/alertmanager/secrets/alertmanager-main-tls"},{"name":"secret-alertmanager-main-proxy","readOnly":true,"mountPath":"/etc/alertmanager/secrets/alertmanager-main-proxy"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"config-reloader","image":"quay.io/coreos/configmap-reload:v0.0.1","args":["-webhook-url=http://localhost:9093/-/reload","-volume-dir=/etc/alertmanager/config"],"resources":{"limits":{"cpu":"5m","memory":"10Mi"}},"volumeMounts":[{"name":"config-volume","readOnly":true,"mountPath":"/etc/alertmanager/config"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"alertmanager-proxy","image":"openshift/oauth-proxy:v1.1.0","args":["-provider=openshift","-https-address=:9094","-http-address=","-email-domain=*","-upstream=http://localhost:9093","-openshift-sar={\"resource\": \"namespaces\", \"verb\": \"get\"}","-openshift-delegate-urls={\"/\": {\"resource\": \"namespaces\", \"verb\": \"get\"}}","-tls-cert=/etc/tls/private/tls.crt","-tls-key=/etc/tls/private/tls.key","-client-secret-file=/var/run/secrets/kubernetes.io/serviceaccount/token","-cookie-secret-file=/etc/proxy/secrets/session_secret","-openshift-service-account=alertmanager-main","-openshift-ca=/etc/pki/tls/cert.pem","-openshift-ca=/var/run/secrets/kubernetes.io/serviceaccount/ca.crt","-skip-auth-regex=^/metrics"],"ports":[{"name":"web","containerPort":9094,"protocol":"TCP"}],"env":[{"name":"HTTP_PROXY"},{"name":"HTTPS_PROXY"},{"name":"NO_PROXY"}],"resources":{},"volumeMounts":[{"name":"secret-alertmanager-main-tls","mountPath":"/etc/tls/private"},{"name":"secret-alertmanager-main-proxy","mountPath":"/etc/proxy/secrets"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":0,"dnsPolicy":"ClusterFirst","nodeSelector":{"node-role.kubernetes.io/infra":"true"},"serviceAccountName":"alertmanager-main","serviceAccount":"alertmanager-main","securityContext":{},"schedulerName":"default-scheduler"}},"serviceName":"alertmanager-operated","podManagementPolicy":"OrderedReady","updateStrategy":{"type":"RollingUpdate"},"revisionHistoryLimit":10},"status":{"observedGeneration":1,"replicas":3,"readyReplicas":3,"currentReplicas":3,"updatedReplicas":3,"currentRevision":"alertmanager-main-866b9ddcdf","updateRevision":"alertmanager-main-866b9ddcdf","collisionCount":0}}
